# Модул 3. "Релационен модел на бази от данни"

Модулът за релационни бази от данни и SQL е предвиден за преподаване в рамките на минимум **72 учебни часа** в **XII клас** (през първия учебен срок) за профил "_Софтуерни и хардуерни науки_" в профилираните гимназии. Учебните материали могат да се използват също и за преподаване по "**Бази данни**" в професионалните паралелки за професия "_Приложен програмист_" и други професии, свързани с програмиране, информационни системи и анализ на данни.

| Вариант                     | Описание                        | Необходими часове |
|-----------------------------|---------------------------------|-------------------|
| **Базов** (без звездичка)   | Обхваща най-важните теми от курса като покрива изискванията на МОН на базово ниво | 72 часа (4 часа * 18 седмици) |
| **Разширен** (със звездичка)| Покрива напълно изискванията на МОН + съдържа допълнителни занимания | 108 часа (6 часа * 18 седмици) |

Курсът по бази от данни може да се изучава в **базов вариант**, по препоръчителните от МОН **минимум 72 часа**, или в **разширен вариант** (например 108 учебни часа), за по-подробно и по-задълбочено натрупване умения в сферата на базите от данни. Така може може да се проведат повече упражнения и да се обхванат по-задълбочено планираните теми и повечето незадължителни теми.

## Разпределение на часовете по теми

Примерно разпределение на часовете включва темите и часовете за теория и упражнения в двата предложени варианта:

|    | Наименование на урока                                    | Часове теория | Часове практика |
|----|----------------------------------------------------------|---------------|-----------------|
| 01 | Информационни системи                                    |       2       |        2        |
| 02 | Системи за управление на бази от данни (СУБД)            |       2       |        2        |
| 03 | Въведение в MS SQL Server                                |       2       |        2        |
| 04 | Въведение в SQL                                          |       2       |        2        |
| 05 | SQL INSERT, UPDATE, DELETE                               |       2       |        2        |
| 06 | Контролна работа: основи на SQL *                        |       2       |        2        |
| 07 | Моделиране на бази данни                                 |       2       |        2        |
| 08 | Връзки и E/R диаграми *                                  |       2       |        2        |
|    | Моделиране на бази данни - още упражнения *              |       0       |        4        |
| 09 | Съединения на таблици                                    |       0       |        4        |
| 10 | По-сложни съедининия и вложени заявки *                  |       0       |        4        |
| 11 | Групови и агрегатни функции                              |       2       |        2        |
| 12 | Контролна работа: моделиране на данни и SQL JOIN *       |       2       |        2        |
| 13 | Работа с MS Access - основи                              |       2       |        2        |
|    | MS Access - заявки, формуляри, отчети                    |       2       |        2        |
| 14 | Контролна работа: MS Access *                            |       2       |        2        |
| 15 | Финален тест (подготовка за ДЗИ) *                       |       2       |        2        |
| 16 | Връзка между C# и база данни *                           |       2       |        2        |
| 17 | Практически проекти *                                    |       2       |        2        |
|    | Предвидени часове                                        |       30      |        38       |
|    | Резерв часове                                            |       2       |        2        |
|    | Общ брой часове                                          |       32      |        40       |

Разпределенията по-горе са примерни и служат само за ориентир. Учителите са свободни да правят промени според нивото и темпото на класа, според непредвидени ситуации в учебния график, както и да работят с различна скорост с по-напредналите и с по-бавните ученици.

## Учебна програма

Настоящата учебна програма е съобразена с официалните изисквания на МОН, като е подредена по разбираем за учениците начин.

### Информационни системи
  - Данни в реалния и в компютърния свят
  - Данните и файлове, нужда от информационни системи (ИС)
  - MS Word, MS Excel и PDF документите не са достатъчни
    - Едновременен достъп на много потребители (например чрез файлов сървър)
    - Проблем с дублиране на данни (data redundancy) 
    - Нужда от сигурност на достъпа (потребители и права)
    - Нужда от заявки
    - Нужда от отчети
  - Какво е база данни? Защо е необходима?
    - Таблици, връзки между таблици, документи
    - Едновременен достъп на много потребители
    - Сигурност на достъпа (access control)
    - Бързина на работа (индексиране)
    - Система за обработка на транзакции (TPS) vs OLAP (data anlytics and visualization)
  - Какво е информационна система? Защо е необходима?
    - База данни + UI + mobile apps + форми, отчети, други инструменти
  - Видове информационни системи: MIS, ERP, CRM, PMS, LMS, ...
    - Примери: Trello (project management), 1CRM (https://1crm.com/live-demo), ...

### Упражнение: Информационни системи
- Разучаване на информационните системи Trello и Asana и съпоставка между двете
- Разглеждане на различни видове информационни системи и определяне на техните употреби
- Разучаване на потенциални заплахи при работа с данни и ИС

### Системи за управление на бази от данни (СУБД)
   - Какво е система за управление на бази от данни (СУБД) (DBMS system)?
   - Релационни и нерелационни бази данни
   - Database servers
     - модел "клиент-сървър": клиентско приложение <-> DB сървър
     - за какво служат?
     - примери: MS SQL Server, MS Access, MySQL, PostgreSQL, MongoDB
     - Архитектура на база от данни (логически и физически модел)
   - Релационен модел: концепции
     - Същностите (entities), атрибутите (attributes) и връзките (relationships)   
     - Таблици, редове (кортежи), колони (атрибути), връзки между таблици
     - Типове данни (домейн на атрибут)
     - Мощност на релация (брой редове в таблици)
   - Пример за релационна база данни: https://www.w3schools.com/sql/

### Упражнение: СУБД
  - Преглед на самоучителя по SQL от W3Schools: https://www.w3schools.com/sql/

### Въведение в MS SQL Server
  - Запознаване с MS SQL Server
  - Какво е MS SQL Server?
    - Какво е SQL Server Express LocalDB?
    - Инстлация на SQL Server Express LocalDB - https://learn.microsoft.com/sql/database-engine/configure-windows/sql-server-express-localdb
    - SQL Server Management Studio (SSMS) - https://learn.microsoft.com/sql/ssms/
  - Свързване с база данни
  - Импортиране на база данни от SQL скрипт
  - Разглеждане и редактиране на данни в таблица
  - Изпълнение на заявки (предварително написани)

### Упражнение: Въведение в MS SQL Server
  - Импортиране на скриптове с бази данни
  - Разглеждане и редактиране на данни в таблица
  - Изпълнение на SQL заявки
  
### Въведение в SQL
  - Що е то SQL?
  - Проекция, селекция, филтриране, ...
  - Базов SQL SELECT: distinct, where, order by, like, is not null, ... 
  - Базови SQL функции: стрингове, дати (изкарване на име на месец от датата)

### Упражнение: Въведение в SQL
  - Базов SQL SELECT
  - Базови SQL функции

### SQL INSERT, UPDATE, DELETE
  - Извършване на останалите CRUD операции с SQL INSERT, UPDATE, DELETE

### Упражнение: SQL INSERT, UPDATE, DELETE
  - По-комплексни задачи за SQL INSERT, UPDATE, DELETE

### Контролна работа: Основи на SQL
  - 7 задачи, свързани с базови SQL операции
    - Задача 1: попълване на данни в таблица
    - Задачи 2-4: извличане на данни по определен критерий
    - Задача 5: вмъкване на запис
    - Задача 6: промяна на запис
    - Задача 7: изтриване на запис

### Моделиране на бази данни
  - Таблици, редове, колони
  - Типове данни: числов тип (цяло и дробно число), символен низ (видове), дата, дата и час, NULL / NOT NULL
  - Автоматично-генериран първичен ключ (identity колона)
  - Създаване на прости таблици
  - Първичен ключ, външен ключ
  - Създаване на връзка между таблици

### Упражнение: Моделиране на бази данни
  - Създаване на DB модел по описание

### Връзки и E/R диаграми
  - Видове връзки: 1 към 1, 1 към много, много към много, self-relationship, ...
  - Прост и съставен ключ, уникален ключ
  - Транзитивно изчислимо поле
  - Аномалии при вмъкване, редактиране и изтриване на записи, породени от излишество на данни (cascade update / delete)
  - Нормални форми; първа, втора, трета, четвърта
  - E/R диаграми (Entity-Relationship диаграми)
  - Създаване на E/R диаграми в SQL Server Management Studio

### Упражнение: Връзки и E/R диаграми
  - Създаване на по-сложен DB модел по описание

### Съединения на таблици
  - Съединения на таблици (JOINs)
  - Декартово произведение, left join, right join, full join

### Упражнение: Съединения на таблици
  - Съединения на таблици (JOINs)

### По-сложни съедининия и вложени заявки
  - По-сложни съединения (съединяване на 3-4 таблици)
  - Вложени заявки (subqueries)
  - Обединение, сечение, разлика, деление

### Упражнение: По-сложни съедининия и вложени заявки
  - По-сложни съединения
  - Вложени заявки (subqueries)

### Групови и агрегатни функции
  - Групови функции: COUNT, MIN, MAX, AVG, ...
  - GROUP BY и HAVING

### Упражнение: Групови и агрегатни функции
  - Групови функции: MIN, MAX, AVG, ...
  - GROUP BY и HAVING

### Контролна работа: Моделиране на данни и SQL JOIN
  - Задача 1: по текстово описание да се направят няколко таблици + да се вкарат данни в тях
  - Задача 2: заявки по таблиците с JOIN
  - Задача 3: заявки по таблиците с GROUP BY, COUNT(), SUM()

### Работа с MS Access
  - Създаване на таблици в Access и попълване на данни
  - Импорт на външни данни (например от MS Excel и от SQL Server)
  - Създаване на заявки в Access: SQL редактор и визуален редактор
  - Параметрични заявки
  - Формуляри (forms)
  - Отчети (reports)

### Упражнение: Работа с MS Access
  - Дадени са няколко Excel файла, да се импортират и да се напишат заявки върху тях

### Контролна работа: MS Access
  - 4 задачи за работа с MS Access
    - Задача 1: Създаване на таблици и въвеждане на данни в тях
    - Задача 2: Импортиране на данни от външен източник (Excel)
    - Задача 3: Създаване на формуляр и отчет
    - Задача 4: Създаване на параметризирана заявка

### Финален тест (въпроси за ДЗИ)
  - Въпроси по целия учебен материал във формата на ДЗИ

### Връзка между C# и база данни *
  - ORM технологии и Entity Framework
  - Генериране на EF модел по SQL Server база данни
  - CRUD операции върху EF DbContext

### Упражнение: Връзка между C# и база данни *
  - Генериране на EF модел по SQL Server база данни
  - CRUD операции върху EF DbContext

### Практически проекти
  - Проект 1:  ...
  - Проект 2: ...
  - Проект 3: ...

## Официална учебна програма от МОН

Официалната учебна програма на МОН за модул "Бази данни" е публикувана в Приложение № 81 към т. 81 от заповед № РД09-4022/21.12.2018 г. на мистъра на образованието:
  - https://web.mon.bg/upload/18364/profil-Informatika.pdf

## Методически насоки към учителите
  - Предвиденото **оценяване** е базирано на **две писмени изпитвания**: контролно изпитване в средата на курса + класна работа в края на курса. Учителите могат да добавят към оценяването и **текущи оценки**, базирани на работа в клас по упражененията и проектите.
  - **Практическите проекти** на края на курса не са задължителни и могат да се дават на **по-напредналите ученици**, които се движат по-бързо по учебния материал и упражненията.
  - **Резервът часове** (за непредвидена загуба на учебни занятия, например при грипни ваканции или празници) е малък, но може да се увеличи за сметка на практическите проекти. При **недостиг на време** може някои теми да се съкращават откъм брой часове или да се пропускат от последните теми в курса (най-вече проектите).
  - Дори при базовия вариант на учебната програма (с малък брой часове) на по-силните ученици могат да се дават **допълнителни задачи** от темите, предвидени за по-голям брой часове.

## Допълнителни външни ресурси
  - Учебник по Модул 3 "Бази данни" от Кр. Манев и екип: https://www.ciela.com/informatika-za-12-klas-profilirana-podgotovka-modul-3-relatsionen-model-na-bazi-ot-danni-izkustva.html
  - Учебен курс по Модул 3 "Бази данни" - вариант 1: https://anastasova-bg.com/%D1%80%D0%B5%D0%BB%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%B5%D0%BD-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB-%D0%BD%D0%B0-%D0%B1%D0%B0%D0%B7%D0%B8-%D0%BE%D1%82-%D0%B4%D0%B0%D0%BD%D0%BD%D0%B8/
  - Учебен курс по Модул 3 "Бази данни" - вариант 2: https://qneva.weebly.com/10481053106010541056105210401058104810501040_12-1082108310721089-10551055.html
  - Учебен курс по Модул 3 "Бази данни" - вариант 3: https://denisheva-ilieva.alle.bg/%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%B0%D0%BB%D0%B8-%D0%B7%D0%B0-%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%BA%D0%B0/%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0-12-%D0%BA%D0%BB%D0%B0%D1%81-%D0%BC%D0%BE%D0%B4%D1%83%D0%BB3-%D1%80%D0%B5%D0%BB%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%B5%D0%BD-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB-%D0%BD%D0%B0-%D0%B1%D0%B0%D0%B7%D0%B0-%D0%BE%D1%82-%D0%B4%D0%B0%D0%BD%D0%BD%D0%B8/

## Лиценз
Настоящото учебно съдържание се разпространява безплатно под **свободен лиценз [CC-BY-NC-SA](https://creativecommons.org/licenses/by-nc-sa/4.0/)**, който позволява на ИТ учителите и университетските преподаватели да преподават в клас по предоставените учебни ресурси, както и да ги променят за целите на своите обучения (да редактират, да допълват, да разместват, да съкращават, да сглобяват и да напасват учебните материали според нуждите на своя клас). Не е позволено материалите да се използват в платени обучения извън училищата и университетите. При промяна на материалите трябва да се цитира оригиналният източник и автор (СофтУни Фондацията).
