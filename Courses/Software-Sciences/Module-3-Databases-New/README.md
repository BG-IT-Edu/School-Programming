# Модул 3. "Релационен модел на бази от данни"

Този модул е предвиден за преподаване в рамките на минимум **72 учебни часа** в **XII клас** от профил "Софтуерни и хардуерни науки".

Внимание: предвидените **72 часа** от МОН за предвиденото от МОН учебно съдържание са **крайно недостатъчни** и е невъзможно в толкова малко часове да се изучат на добро ниво толкова много учебни теми и концепции. За да се реши този въпрос или трябва да се **увеличи броят часове**, или трябва да се **съкрати учебното съдържание**. В помощ на учителите сме разработили 3 варианта на курса (с различен брой учебни теми) според броя часове:

| Вариант                     | Описание                        | Необходими часове |
|-----------------------------|---------------------------------|-------------------|
| **Базов** (без звездичка)   | Обхваща най-важните теми от курса като покрива изискванията на МОН на базово ниво | 72 часа (2 часа * 36 седмици) |
| **Разширен** (със звездичка)| Покрива напълно изискванията на МОН + съдържа допълнителни занимания | 108 часа (3 часа * 36 седмици) |
  
Силно препоръчително е този курс да се изучава с **повече от минималните 72 часа** (например 108 или 144 часа), за да може да се проведат повече упражнения и да се обхванат по-задълбочено планираните теми и повечето незадължителни теми.

## Учебна програма (временна)

### Информационни системи
  - Данни в реалния и в компютърния свят
  - Данните и файлове, нужда от информационни системи (ИС)
  - MS Word, MS Excel и PDF документите не са достатъчни
    - Едновременен достъп на много потребители (например чрез файлов сървър)
    - Проблем с дублиране на данни (data redundancy) 
    - Нужда от сигурност на достъпа (потребители и права)
    - Нужда от заявки
    - Нужда от отчети
  - Какво е база данни? Защо е необходима?
    - Таблици, връзки между таблици, документи
    - Едновременен достъп на много потребители
    - Сигурност на достъпа (access control)
    - Бързина на работа (индексиране)
    - Система за обработка на транзакции (TPS) vs OLAP (data anlytics and visualization)
  - Какво е информационна система? Защо е необходима?
    - База данни + UI + mobile apps + форми, отчети, други инструменти
  - Видове информационни системи: MIS, ERP, CRM, PMS, LMS, ...
    - Примери: Trello (project management), 1CRM (https://1crm.com/live-demo), ...

### Упражнение: Информационни системи
  ???

### Системи за управление на бази от данни (СУБД)
   - Какво е система за управление на бази от данни (СУБД) (DBMS system)?
   - Релационни и нерелационни бази данни (вж. `09-Databases.pptx`)
   - Database servers
     - модел "клиент-сървър": клиентско приложение <-> DB сървър
     - за какво служат?
     - примери: MS SQL Server, MS Access, MySQL, PostgreSQL, MongoDB
     - Архитектура на база от данни (логически и физически модел)
   - Релационен модел: концепции
     - Същностите (entities), атрибутите (attributes) и връзките (relationships)   
     - Таблици, редове (кортежи), колони (атрибути), връзки между таблици
     - Типове данни (домейн на атрибут)
     - Мощност на релация (брой редове в таблици)
   - Пример за релационна база данни: https://www.w3schools.com/sql/

### Упражнение: СУБД
  - Да се прегледа самоучителя по SQL от W3Schools: https://www.w3schools.com/sql/

### Въведение в MS SQL Server
  - Запознаване с MS SQL Server
  - Какво е MS SQL Server?
    - Какво е SQL Server Express LocalDB?
    - Инстлация на SQL Server Express LocalDB - https://learn.microsoft.com/sql/database-engine/configure-windows/sql-server-express-localdb
    - SQL Server Management Studio (SSMS) - https://learn.microsoft.com/sql/ssms/
  - Свързване с база данни
  - Импортиране на база данни от SQL скрипт
  - Разглеждане и редактиране на данни в таблица
  - Изпълнение на заявки (предварително написани)

### Упражнение: Въведение в MS SQL Server
  - Импортиране на скриптове с бази данни
  - Разглеждане и редактиране на данни в таблица
  - Изпълнение на SQL заявки
  
### Въведение в SQL
  - Що е то SQL?
  - Проекция, селекция, филтриране, ...
  - Базов SQL SELECT: distinct, where, order by, like, is not null, ... 
  - Базови SQL функции: стрингове, дати (примерно изкарай име на месец от датата)

### Упражнение: Въведение в SQL
  - Базов SQL SELECT
  - Базови SQL функции

### SQL INSERT, UPDATE, DELETE
  - SQL INSERT, UPDATE, DELETE

### Упражнение: SQL INSERT, UPDATE, DELETE
  - SQL INSERT, UPDATE, DELETE

### Контролна работа: основи на SQL
  - Концепция: колко задачи и какви
  - Задача 1: импорт на база данни от SQL скрипт, добавяне на данни на ръка, изпълнение на проста SQL заявка
  - Задача 2: писане на SQL заявки
  - Задача 3: писане на INSERT, UPDATE и DELETE команди

### Моделиране на бази данни
  - Таблици, редове, колони
  - Типове данни: числов тип (цяло и дробно число), символен низ (видове), дата, дата и час, NULL / NOT NULL
  - Автоматично-генериран първичен ключ (identity колона)
  - Създаване на прости таблици
  - Първичен ключ, външен ключ
  - Създаване на връзка между таблици

### Упражнение: моделиране на бази данни
  - Създаване на DB модел по описание

### Връзки и E/R диаграми
  - Видове връзки: 1 към 1, 1 към много, много към много, self-relationship, ...
  - Прост и съставен ключ, уникален ключ
  - Транзитивно изчислимо поле
  - Аномалии при вмъкване, редактиране и изтриване на записи, породени от излишество на данни (cascade update / delete)
  - Нормални форми; първа, втора, трета, четвърта
  - E/R диаграми (Entity-Relationship диаграми)
  - Създаване на E/R диаграми в SQL Server Management Studio

### Упражнение: Връзки и E/R диаграми
  - Създаване на по-сложен DB модел по описание

### Съединения на таблици
  - Съединения на таблици (JOINs)
  - Декартово произведение, left join, right join, full join
  - ...

### Упражнение: Съединения на таблици
  - Съединения на таблици (JOINs)

### По-сложни съедининия и вложени заявки
  - По-сложни съединения (съединяване на 3-4 таблици)
  - Вложени заявки (subqueries)
  - Обединение, сечение, разлика, деление
  - ...

### Упражнение: По-сложни съедининия и вложени заявки
  - По-сложни съединения
  - Вложени заявки (subqueries)

### Контролна работа: моделиране на данни и SQL JOIN
  - Концепция: колко задачи и какви
  - Задача 1: ...
  - Задача 2: ...
  - Задача 3: ...

### Групови и агрегатни функции
  - Групови функции: COUNT, MIN, MAX, AVG, ...
  - GROUP BY и HAVING

### Упражнение: Групови и агрегатни функции
  - Групови функции: MIN, MAX, AVG, ...
  - GROUP BY и HAVING

### Работа с MS Access
  - Създаване на таблици в Access и попълване на данни
  - Импорт на външни данни (например от MS Excel и от SQL Server)
  - Създаване на заявки в Access: SQL редактор и визуален редактор
  - Параметрични заявки
  - Формуляри (forms)
  - Отчети (reports)

### Упражнение: Работа с MS Access
  - Дадени са няколко Excel файла, да се импортират и да се напишат завки върху тях

### Връзка между C# и база данни
  - ORM технологии и Entity Framework
  - Генериране на EF модел по SQL Server база данни
  - CRUD операции върху EF DbContext
  - Да се опрости зяявката: `01.1.ORM-and-Entity-Framework-Overview.pptx`

### Упражнение: Връзка между C# и база данни
  - Генериране на EF модел по SQL Server база данни
  - CRUD операции върху EF DbContext

### Контролна работа: MS Access
  - Концепция: колко задачи и какви
  - Задача 1: ...
  - Задача 2: ...
  - Задача 3: ...

### Финален тест (въпроси за ДЗИ)
  - ...

### Практически проекти
  - Проект 1:  ...
  - Задача 2: ...
  - Задача 3: ...

## Разпределение на часовете

Примерно разпределение на часовете включва темите и часовете за теория и упражнения в трите предложени варианта:

Този модул е предвиден за преподаване в рамките на 72 учебни часа през първия учебен срок на XII клас.

|    | Наименование на урока                                    | Часове теория | Часове практика |
|----|----------------------------------------------------------|---------------|-----------------|
| 01 | Информационни системи                                    |       2       |        2        |
| 02 | Системи за управление на бази от данни (СУБД)            |       2       |        2        |
| 03 | Въведение в MS SQL Server                                |       2       |        2        |
| 04 | Въведение в SQL                                          |       2       |        2        |
| 05 | SQL INSERT, UPDATE, DELETE                               |       2       |        2        |
| 06 | Контролна работа: основи на SQL                          |       2       |        2        |
| 07 | Моделиране на бази данни                                 |       2       |        2        |
| 08 | Връзки и E/R диаграми                                    |       2       |        2        |
| 09 | Съединения на таблици                                    |       0       |        4        |
| 10 | По-сложни съедининия и вложени заявки                    |       0       |        4        |
| 11 | Контролна работа: моделиране на данни и SQL JOIN         |       2       |        2        |
| 12 | Групови и агрегатни функции                              |       2       |        2        |
| 13 | Работа с MS Access                                       |       2       |        2        |
| 14 | Връзка между C# и база данни                             |       2       |        2        |
| 15 | Контролна работа: MS Access                              |       2       |        2        |
| 16 | Финален тест *                                           |       2       |        2        |
| 17 | Практически проекти                                      |       2       |        2        |
|    | Предвидени часове                                        |       26      |        34       |
|    | Резерв часове                                            |       0       |        14       |
|    | Общ брой часове                                          |       26      |        48       |

Разпределенията по-горе са примерни и служат само за ориентир. Учителите са свободни да правят промени според нивото и темпото на класа, според непредвидени ситуации в учебния график, както и да работят с различна скорост с по-напредналите и с по-бавните ученици.

## Официална учебна програма от МОН

Официалната учебна програма на МОН е публикувана в Приложение № 81 към т. 81 от заповед № РД09-4022/21.12.2018 г. на мистъра на образованието:
  - https://web.mon.bg/upload/18364/profil-Informatika.pdf

## Външни ресурси
  - Учебник по Модул 3 "Бази данни": https://www.chapter.bg/%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0-%D0%B7%D0%B0-12-%D0%BA%D0%BB%D0%B0%D1%81---%D0%BF%D1%80%D0%BE%D1%84%D0%B8%D0%BB%D0%B8%D1%80%D0%B0%D0%BD%D0%B0-%D0%BF%D0%BE%D0%B4%D1%82%D0%BE%D0%B2%D0%BA%D0%B0-%D0%BC%D0%BE%D0%B4%D1%83%D0%BB-3-%D1%80%D0%B5%D0%BB%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%B5%D0%BD-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB-%D0%BD%D0%B0-%D0%B1%D0%B0%D0%B7%D0%B8-%D0%BE%D1%82-%D0%B4%D0%B0%D0%BD%D0%BD%D0%B8-prod-13640.html
  - Учебен курс по Модул 3 "Бази данни" - варинат 1: https://anastasova-bg.com/%D1%80%D0%B5%D0%BB%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%B5%D0%BD-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB-%D0%BD%D0%B0-%D0%B1%D0%B0%D0%B7%D0%B8-%D0%BE%D1%82-%D0%B4%D0%B0%D0%BD%D0%BD%D0%B8/
  - Учебен курс по Модул 3 "Бази данни" - вариант 2: https://qneva.weebly.com/10481053106010541056105210401058104810501040_12-1082108310721089-10551055.html
  - Учебен курс по Модул 3 "Бази данни" - вариант 3: https://denisheva-ilieva.alle.bg/%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%B0%D0%BB%D0%B8-%D0%B7%D0%B0-%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%BA%D0%B0/%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0-12-%D0%BA%D0%BB%D0%B0%D1%81-%D0%BC%D0%BE%D0%B4%D1%83%D0%BB3-%D1%80%D0%B5%D0%BB%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%B5%D0%BD-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB-%D0%BD%D0%B0-%D0%B1%D0%B0%D0%B7%D0%B0-%D0%BE%D1%82-%D0%B4%D0%B0%D0%BD%D0%BD%D0%B8/
